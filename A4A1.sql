--Question 1

CREATE TABLE EMP_1 (
EMP_NUM CHAR(3) PRIMARY KEY,
EMP_LNAME VARCHAR(15) NOT NULL,
EMP_FNAME VARCHAR(15) NOT NULL,
EMP_INITIAL CHAR(1),
EMP_HIREDATE DATE,
JOB_CODE VARCHAR(3),
FOREIGN KEY (JOB_CODE) REFERENCES JOB(JOB_CODE)
);

--Question 2. Because the future questions require the whole table, I decided insert all 9 rows in.

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (101, 'News', 'John', 'G', '2000-11-08', 502);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (102, 'Senior', 'David', 'H', '1989-07-12', 501);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (103, 'Arbough', 'June', 'E', '1996-12-01', 500);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (104, 'Ramoras', 'Anne', 'K', '1987-11-15', 501);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (105, 'Johnson', 'Alice', 'K', '1993-02-01', 502);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (106, 'Smithfield', 'William', '', '2004-06-22', 500);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (107, 'Alonzo', 'Maria', 'D', '1993-10-10', 500);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (108, 'Washington', 'Ralph', 'B', '1991-08-22', 501);

INSERT INTO EMP_1 (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE)
VALUES (109, 'Smith', 'Larry', 'W', '1997-07-18', 501);

--Question 5

UPDATE EMP_1
SET JOB_CODE = 501
WHERE EMP_NUM = 107;

--Question 6

DELETE FROM EMP_1
WHERE EMP_LNAME = 'Smithfield'
AND EMP_FNAME = 'William'
AND EMP_HIREDATE = '2004-06-22'
AND JOB_CODE = 500;

SELECT * FROM EMP_1

--For this question as well as 24 & 25, I had to create a CUSTOMER table which is shown below just before the questions I wrote out.

CREATE TABLE CUSTOMER3 (
CUST_NUM CHAR(4) PRIMARY KEY,
CUST_LNAME VARCHAR(30) NOT NULL,
CUST_FNAME VARCHAR(30) NOT NULL,
CUST_BALANCE DECIMAL(10,2),
);


INSERT INTO CUSTOMER3 (CUST_NUM, CUST_LNAME, CUST_FNAME, CUST_BALANCE)
VALUES (1000, 'Smith', 'Jeanne', 1050.11);

INSERT INTO CUSTOMER3 (CUST_NUM, CUST_LNAME, CUST_FNAME, CUST_BALANCE)
VALUES (1001, 'Ortega', 'Juan', 840.92);


--Question 23

ALTER TABLE CUSTOMER3
ADD CUST_DOB DATE

--Question 24

UPDATE CUSTOMER3
SET CUST_DOB = '1989-03-15'
WHERE CUST_NUM = 1000

--Question 25

UPDATE CUSTOMER3
SET CUST_DOB = '1988-12-22'
WHERE CUST_NUM = 1001

SELECT * FROM CUSTOMER3



--***PART TWO OF THE ASSIGNMENT THAT IS WORTH 10 POINTS IS BELOW

CREATE TABLE INVOICE4 (
INV_NUM CHAR(4) PRIMARY KEY,
CUST_NUM CHAR(4),
INV_DATE DATE,
INV_AMOUNT DECIMAL(10,2),
FOREIGN KEY (CUST_NUM) REFERENCES CUSTOMER3(CUST_NUM)
);


INSERT INTO INVOICE4 (INV_NUM, CUST_NUM, INV_DATE, INV_AMOUNT)
VALUES (8000, 1000, '2016-03-23', 235.89);

INSERT INTO INVOICE4 (INV_NUM, CUST_NUM, INV_DATE, INV_AMOUNT)
VALUES (8001, 1001, '2016-03-23', 312.82);

INSERT INTO INVOICE4 (INV_NUM, CUST_NUM, INV_DATE, INV_AMOUNT)
VALUES (8002, 1001, '2016-03-30', 528.10);

INSERT INTO INVOICE4 (INV_NUM, CUST_NUM, INV_DATE, INV_AMOUNT)
VALUES (8003, 1000, '2016-04-12', 194.78);

INSERT INTO INVOICE4 (INV_NUM, CUST_NUM, INV_DATE, INV_AMOUNT)
VALUES (8004, 1000, '2016-04-23', 619.44);

INSERT INTO INVOICE4 (INV_NUM, CUST_NUM, INV_DATE, INV_AMOUNT)
VALUES (8005, 1000, '2016-05-03', 202.09);

INSERT INTO INVOICE4 (INV_NUM, CUST_NUM, INV_DATE, INV_AMOUNT)
VALUES (8006, 1001, '2016-05-17', 314.24);


CREATE PROCEDURE prc_inv_delete
    @InvoiceNumber INT
AS
BEGIN
    DELETE I
    FROM INVOICE4 I
    JOIN CUSTOMER3 C ON I.CUST_NUM = C.CUST_NUM
    WHERE I.INV_NUM = @InvoiceNumber;
END;


EXEC prc_inv_delete @InvoiceNumber = 8005;
EXEC prc_inv_delete @InvoiceNumber = 8006;

SELECT * FROM INVOICE4
